<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://unpkg.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' https://cdnjs.cloudflare.com; font-src https://cdnjs.cloudflare.com; img-src 'self' https://via.placeholder.com">
  <title>Incident Management Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.js" integrity="sha256-tc2eW6opK3Bl9o1+ATiP2aL6vM1a2N09a5t+HFU3h2k=" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/muuri@0.9.1/dist/muuri.min.js" integrity="sha256-HWfxj0alYfZ7Q2Y2jO2jX1t7tD1XvF7qF+1qXz7zF0=" crossorigin="anonymous"></script>
</head>
<body>
  <aside class="sidebar">
    <div class="logo">
      <img src="https://via.placeholder.com/150" alt="Company Logo">
    </div>
    <button id="toggle-btn" class="toggle-btn"><i class="fas fa-bars"></i></button>
    <ul class="menu">
      <li class="menu-item active" data-tooltip="Dashboard" id="menu-dashboard">
        <span><i class="fas fa-tachometer-alt"></i></span><span>Dashboard</span>
      </li>
      <li class="menu-item" data-tooltip="Incidents" id="menu-incidents">
        <span><i class="fas fa-exclamation-circle"></i></span><span>Incidents</span>
      </li>
      <li class="menu-item" data-tooltip="Monitoring" id="menu-monitoring">
        <span><i class="fas fa-desktop"></i></span><span>Monitoring</span>
      </li>
      <li class="menu-item" data-tooltip="Workflows" id="menu-workflows">
        <span><i class="fas fa-cogs"></i></span><span>Workflows</span>
      </li>
      <li class="menu-item" data-tooltip="Communications" id="menu-communications">
        <span><i class="fas fa-comments"></i></span><span>Communications</span>
      </li>
      <li class="menu-item" data-tooltip="Reports" id="menu-reports">
        <span><i class="fas fa-chart-bar"></i></span><span>Reports</span>
      </li>
      <li class="menu-item" data-tooltip="Integrations" id="menu-integrations">
        <span><i class="fas fa-plug"></i></span><span>Integrations</span>
      </li>
      <li class="menu-item" data-tooltip="Settings" id="menu-settings">
        <span><i class="fas fa-cog"></i></span><span>Settings</span>
      </li>
    </ul>
    <button class="create-btn" id="create-incident-btn"><i class="fas fa-plus"></i> Create Incident</button>
  </aside>

  <main class="main-content">
    <!-- Dashboard Page -->
    <section id="dashboard" class="page">
      <div class="header">
        <h1>Incident Management Dashboard</h1>
        <div class="filters">
          <select id="dashboard-filter">
            <option value="all">All</option>
            <option value="open">Open</option>
            <option value="resolved">Resolved</option>
          </select>
        </div>
      </div>
      <div class="widget-grid muuri">
        <div class="widget uniform muuri-item" data-id="incident-status">
          <div class="muuri-item-content">
            <h3>Incident Status</h3>
            <canvas id="incidentChart"></canvas>
            <div class="legend">
              <span class="legend-item open">Open</span>
              <span class="legend-item in-progress">In Progress</span>
              <span class="legend-item resolved">Resolved</span>
            </div>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="priority-trend">
          <div class="muuri-item-content">
            <h3>Priority Trend</h3>
            <canvas id="priorityChart"></canvas>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="sla-compliance">
          <div class="muuri-item-content">
            <h3>SLA Compliance</h3>
            <canvas id="slaChart"></canvas>
            <div class="legend">
              <span class="legend-item open">On Track</span>
              <span class="legend-item in-progress">At Risk</span>
            </div>
          </div>
        </div>
        <div class="widget uniform muuri-item dynatrace" data-id="dynatrace">
          <div class="muuri-item-content">
            <h3>Dynatrace Monitoring</h3>
            <canvas id="dynatraceChart"></canvas>
          </div>
        </div>
        <div class="widget uniform muuri-item splunk" data-id="splunk">
          <div class="muuri-item-content">
            <h3>Splunk Alerts</h3>
            <canvas id="splunkChart"></canvas>
          </div>
        </div>
        <div class="widget uniform muuri-item change-tickets" data-id="change-tickets">
          <div class="muuri-item-content">
            <h3>Change Tickets</h3>
            <canvas id="changeTicketsChart"></canvas>
            <div class="list" id="change-tickets-list">
              <div class="list-item">CR123: Network Upgrade - In Review</div>
              <div class="list-item">CR124: Server Patch - Approved</div>
            </div>
          </div>
        </div>
        <div class="widget uniform muuri-item on-call-list" data-id="on-call-list">
          <div class="muuri-item-content">
            <h3>Current On-Call</h3>
            <div class="list" id="on-call-list">
              <div class="list-item">
                <div class="contact-info">
                  <span><strong>Alice Johnson</strong></span>
                  <span>212-555-0101</span>
                  <span>212-555-0102</span>
                  <span>alice.johnson@example.com</span>
                </div>
                <button class="page-btn" data-name="Alice Johnson" data-team="Network">Page</button>
              </div>
              <div class="list-item">
                <div class="contact-info">
                  <span><strong>Bob Smith</strong></span>
                  <span>312-555-0202</span>
                  <span>312-555-0203</span>
                  <span>bob.smith@example.com</span>
                </div>
                <button class="page-btn" data-name="Bob Smith" data-team="Server">Page</button>
              </div>
            </div>
            <p class="scroll-label">Scroll for more</p>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="pager-duty">
          <div class="muuri-item-content">
            <h3>PagerDuty Alerts</h3>
            <canvas id="pagerDutyChart"></canvas>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="response-time">
          <div class="muuri-item-content">
            <h3>Response Time</h3>
            <canvas id="responseTimeChart"></canvas>
          </div>
        </div>
        <div class="widget uniform muuri-item service-health" data-id="service-health">
          <div class="muuri-item-content">
            <h3>Service Health</h3>
            <div class="incident-counts">
              <div class="incident-item p1">
                <span class="incident-icon">ðŸ”´</span>
                <span class="incident-label">P1</span>
                <span class="incident-value">3</span>
              </div>
              <div class="incident-item p2">
                <span class="incident-icon">ðŸŸ¡</span>
                <span class="incident-label">P2</span>
                <span class="incident-value">5</span>
              </div>
              <div class="incident-item p3">
                <span class="incident-icon">ðŸ”µ</span>
                <span class="incident-label">P3</span>
                <span class="incident-value">7</span>
              </div>
            </div>
            <canvas id="serviceHealthChart"></canvas>
          </div>
        </div>
      </div>
      <button class="cta-btn add-widget-btn">Add Widget</button>
      <button class="cta-btn create-incident-btn">Create New Incident</button>
    </section>

    <!-- Incidents Page -->
    <section id="incidents" class="page" style="display: none;">
      <div class="header">
        <h1>Create Incident</h1>
      </div>
      <div class="form-container">
        <form id="incident-form" class="form-grid">
          <div class="form-column">
            <div class="form-group">
              <label for="user-profile">User Profile</label>
              <select id="user-profile" required>
                <option value="" disabled selected>Select User</option>
                <option value="alice-johnson">Alice Johnson</option>
                <option value="bob-smith">Bob Smith</option>
                <option value="clara-lee">Clara Lee</option>
                <option value="david-brown">David Brown</option>
                <option value="Jack-Berry">Jack Berry</option>
              </select>
            </div>
            <div class="form-group">
              <label for="user-name">User Name</label>
              <input type="text" id="user-name" readonly>
            </div>
            <div class="form-group">
              <label for="location">Location</label>
              <input type="text" id="location" readonly>
            </div>
            <div class="form-group">
              <label for="contact-number">Contact Number</label>
              <input type="text" id="contact-number" readonly>
            </div>
            <div class="form-group">
              <label for="app-service">Application/Service</label>
              <select id="app-service" required>
                <option value="" disabled selected>Select Application</option>
                <option value="citrix-storefront">Citrix Storefront</option>
                <option value="email-service">Email Service</option>
                <option value="server-cluster-a">Server Cluster A</option>
                <option value="printer-service">Printer Service</option>
                <option value="billing-app">Billing App</option>
                <option value="network-router">Network Router</option>
                <option value="helpdesk-portal">Helpdesk Portal</option>
                <option value="database-b">Database B</option>
                <option value="vpn-service">VPN Service</option>
                <option value="file-server">File Server</option>
                <option value="sap-erp">SAP ERP</option>
                <option value="zoom-service">Zoom Service</option>
                <option value="aws-lambda">AWS Lambda</option>
                <option value="password-reset">Password Reset</option>
                <option value="Access Request">Access Request</option>
              </select>
            </div>
            <div class="form-group">
              <label for="priority">Priority</label>
              <input type="text" id="priority" readonly>
            </div>
          </div>
          <div class="form-column">
            <div class="form-group">
              <label for="impact">Impact</label>
              <select id="impact" required>
                <option value="" disabled selected>Select Impact</option>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
              </select>
            </div>
            <div class="form-group">
              <label for="urgency">Urgency</label>
              <select id="urgency" required>
                <option value="" disabled selected>Select Urgency</option>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
              </select>
            </div>
            <div class="form-group">
              <label for="assignment-group">Assignment Group</label>
              <input type="text" id="assignment-group" readonly>
            </div>
            <div class="form-group">
              <label for="category">Category</label>
              <input type="text" id="category" readonly>
            </div>
            <div class="form-group">
              <label for="short-description">Short Description</label>
              <input type="text" id="short-description" readonly>
            </div>
            <div class="form-group">
              <label for="ticket-number">Ticket Number</label>
              <input type="text" id="ticket-number" value="Pending" readonly>
            </div>
          </div>
          <div class="form-group form-description">
            <label for="business-impact">Business Impact</label>
            <textarea id="business-impact" required></textarea>
          </div>
          <div class="form-group">
            <label for="additional-comments">Additional Comments</label>
            <textarea id="additional-comments"></textarea>
          </div>
          <div class="form-group">
            <label for="work-notes">Work Notes</label>
            <textarea id="work-notes"></textarea>
          </div>
          <div class="form-group">
            <label for="state">State</label>
            <select id="state">
              <option value="New">New</option>
              <option value="In Progress">In Progress</option>
              <option value="On Hold">On Hold</option>
              <option value="Resolved">Resolved</option>
            </select>
          </div>
          <button type="submit" class="cta-btn">Submit Incident</button>
        </form>
      </div>
    </section>

    <!-- Monitoring Page -->
    <section id="monitoring" class="page" style="display: none;">
      <div class="header">
        <h1>Monitoring</h1>
        <div class="filters">
          <select id="monitoring-filter" aria-label="Filter monitoring data">
            <option value="all">All Alerts</option>
            <option value="critical">Critical</option>
            <option value="warning">Warning</option>
          </select>
        </div>
      </div>
      <div class="monitoring-grid muuri">
        <div class="widget uniform muuri-item" data-id="monitoring-alerts">
          <div class="muuri-item-content">
            <h3>Monitoring Alerts</h3>
            <div class="list" id="monitoring-alerts-list"></div>
            <p class="scroll-label">Scroll for more</p>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="system-metrics">
          <div class="muuri-item-content">
            <h3>System Metrics</h3>
            <canvas id="monitoring-chart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Workflows Page -->
    <section id="workflows" class="page" style="display: none;">
      <div class="header">
        <h1>Workflows</h1>
        <div class="filters">
          <select id="workflows-filter" aria-label="Filter workflows">
            <option value="all">All Workflows</option>
            <option value="active">Active</option>
            <option value="pending">Pending</option>
          </select>
        </div>
      </div>
      <div class="workflows-grid muuri">
        <div class="widget uniform muuri-item" data-id="workflow-status">
          <div class="muuri-item-content">
            <h3>Workflow Status</h3>
            <div class="list" id="workflows-list"></div>
            <p class="scroll-label">Scroll for more</p>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="workflow-progress">
          <div class="muuri-item-content">
            <h3>Workflow Progress</h3>
            <canvas id="workflows-chart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Communications Page -->
    <section id="communications" class="page" style="display: none;">
      <div class="header">
        <h1>Communications</h1>
        <div class="filters">
          <select id="chat-channel" aria-label="Select chat channel">
            <option value="general">General</option>
            <option value="incident-p1">Incident P1</option>
            <option value="incident-p2">Incident P2</option>
          </select>
        </div>
      </div>
      <div class="communications-grid">
        <div class="chat-container">
          <h3>Team Chat</h3>
          <div class="chat-messages" id="chat-messages"></div>
          <div class="chat-input">
            <input type="text" id="chat-input" placeholder="Type a message..." aria-label="Chat input">
            <button class="cta-btn small" id="send-message">Send</button>
          </div>
        </div>
        <div class="email-template-container">
          <h3>Email Templates</h3>
          <div class="form-container">
            <form id="email-template-form">
              <div class="form-group">
                <label for="template-incident-number">Incident Number</label>
                <input type="text" id="template-incident-number" required>
              </div>
              <div class="form-group">
                <label for="template-status">Incident Status</label>
                <select id="template-status" required>
                  <option value="Open">Open</option>
                  <option value="In Progress">In Progress</option>
                  <option value="Resolved">Resolved</option>
                </select>
              </div>
              <div class="form-group">
                <label for="template-manager">Incident Manager</label>
                <input type="text" id="template-manager" required>
              </div>
              <div class="form-group">
                <label for="template-priority">Incident Priority</label>
                <select id="template-priority" required>
                  <option value="P1">P1 High</option>
                  <option value="P2">P2 Medium</option>
                </select>
              </div>
              <div class="form-group">
                <label for="template-start-time">Start Time</label>
                <input type="datetime-local" id="template-start-time" required>
              </div>
              <div class="form-group">
                <label for="template-end-time">Estimated End Time</label>
                <input type="datetime-local" id="template-end-time">
              </div>
              <div class="form-group">
                <label for="template-bridge">Bridge Details</label>
                <input type="text" id="template-bridge" placeholder="e.g., Zoom link or phone number">
              </div>
              <div class="form-group">
                <label for="template-details">Incident Details</label>
                <textarea id="template-details" required></textarea>
              </div>
              <div class="form-group">
                <label for="template-impact">Business Impact</label>
                <textarea id="template-impact" required></textarea>
              </div>
              <div class="form-group">
                <label for="template-recipients">Recipients</label>
                <select id="template-recipients" multiple required>
                  <option value="internal">Internal Team</option>
                  <option value="external">External Stakeholders</option>
                </select>
              </div>
              <button type="submit" class="cta-btn">Save Template</button>
              <button type="button" class="cta-btn secondary" id="preview-template">Preview</button>
            </form>
          </div>
          <div class="template-list">
            <h4>Saved Templates</h4>
            <table class="settings-table" id="template-table">
              <thead>
                <tr>
                  <th>Incident Number</th>
                  <th>Priority</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="template-table-body"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Reports Page (Placeholder) -->
    <section id="reports" class="page" style="display: none;">
      <div class="header">
        <h1>Reports</h1>
        <div class="filters">
          <select id="reports-filter" aria-label="Filter reports">
            <option value="all">All Reports</option>
            <option value="active">Active</option>
            <option value="pending">Pending</option>
          </select>
        </div>
      </div>
      <div class="reports-grid muuri">
        <div class="widget uniform muuri-item" data-id="report-status">
          <div class="muuri-item-content">
            <h3>Report Status</h3>
            <div class="list" id="reports-list"></div>
            <p class="scroll-label">Scroll for more</p>
          </div>
        </div>
        <div class="widget uniform muuri-item" data-id="report-metrics">
          <div class="muuri-item-content">
            <h3>Report Metrics</h3>
            <canvas id="reports-chart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Integrations Page -->
    <section id="integrations" class="page" style="display: none;">
      <div class="header">
        <h1>Integrations</h1>
        <div class="filters">
          <select id="status-filter">
            <option value="all">All</option>
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
        </div>
      </div>
      <div class="integrations-grid">
        <div class="integrations-list">
          <div class="list-header">
            <span>Name</span>
            <span>Category</span>
            <span>Status</span>
            <span>Last Sync</span>
            <span>Actions</span>
          </div>
          <div class="list" id="integrations-list"></div>
          <p class="scroll-label">Scroll for more</p>
          <button class="cta-btn" id="add-integration-btn">Add Integration</button>
        </div>
        <div class="integration-details" id="integration-details" style="display: none;">
          <h3 id="detail-name"></h3>
          <div class="details-content">
            <p><strong>Category:</strong> <span id="detail-category"></span></p>
            <p><strong>API Key:</strong> <input id="detail-api-key" readonly></p>
            <p><strong>Endpoint:</strong> <input id="detail-endpoint" readonly></p>
            <p><strong>Sync Interval (min):</strong> <input id="detail-sync-interval" readonly type="number"></p>
            <button class="cta-btn" id="edit-integration-btn">Edit</button>
            <button class="cta-btn" id="save-integration-btn" style="display: none;">Save</button>
            <button class="cta-btn secondary" id="close-integration-btn">Close</button>
          </div>
        </div>
        <div class="sync-status">
          <h3>Sync Status</h3>
          <div class="charts">
            <div class="chart-card">
              <canvas id="syncChart"></canvas>
            </div>
          </div>
          <div class="sync-log">
            <h4>Recent Sync Activity</h4>
            <div class="log-list" id="sync-log-list"></div>
          </div>
        </div>
      </div>
      <div id="add-integration-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <h2>Add New Integration</h2>
          <form id="integrationForm">
            <div class="form-group">
              <label for="integration-name">Integration Name</label>
              <select id="integration-name" required>
                <option value="" disabled selected>Select Integration</option>
                <option value="PagerDuty">PagerDuty</option>
                <option value="Nagios">Nagios</option>
                <option value="SolarWinds">SolarWinds</option>
                <option value="Splunk">Splunk</option>
                <option value="Dynatrace">Dynatrace</option>
                <option value="AWS">AWS</option>
                <option value="ServiceNow">ServiceNow</option>
                <option value="Datadog">Datadog</option>
                <option value="Zabbix">Zabbix</option>
                <option value="Jira">Jira</option>
                <option value="Custom Webhook">Custom Webhook</option>
              </select>
            </div>
            <div class="form-group">
              <label for="api-key">API Key</label>
              <input type="text" id="api-key" required>
            </div>
            <div class="form-group">
              <label for="endpoint">Endpoint URL</label>
              <input type="url" id="endpoint" required>
            </div>
            <div class="form-group">
              <label for="sync-interval">Sync Interval (minutes)</label>
              <input type="number" id="sync-interval" min="1" required>
            </div>
            <button type="submit" class="cta-btn">Add Integration</button>
            <button type="button" class="cta-btn secondary" id="cancel-integration-btn">Cancel</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Settings Page -->
    <section id="settings" class="page" style="display: none;">
      <div class="header">
        <h1>Settings</h1>
      </div>
      <div id="login-container" class="login-container">
        <div class="form-container">
          <form id="login-form">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" id="username" required>
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" id="password" required>
            </div>
            <button type="submit" class="cta-btn">Login</button>
          </form>
        </div>
      </div>
      <div id="settings-container" class="hidden">
        <button id="logout-btn" class="cta-btn secondary logout-btn">Logout</button>
        <div class="form-container">
          <h3>Add User</h3>
          <form id="user-form">
            <div class="form-group">
              <label for="user-name-input">User Name</label>
              <input type="text" id="user-name-input" required>
            </div>
            <div class="form-group">
              <label for="user-location">Location</label>
              <input type="text" id="user-location" required>
            </div>
            <div class="form-group">
              <label for="user-email">Email</label>
              <input type="email" id="user-email" required>
            </div>
            <div class="form-group">
              <label for="user-contact">Contact Number</label>
              <input type="text" id="user-contact" required>
            </div>
            <div class="form-group">
              <label for="user-job-title">Job Title</label>
              <input type="text" id="user-job-title" required>
            </div>
            <button type="submit" class="cta-btn">Add User</button>
          </form>
        </div>
        <div class="form-container">
          <h3>Add Application/Service</h3>
          <form id="app-form">
            <div class="form-group">
              <label for="app-name">Application Name</label>
              <input type="text" id="app-name" required>
            </div>
            <div class="form-group">
              <label for="app-priority-cap">Priority Cap</label>
              <select id="app-priority-cap" required>
                <option value="P1 High">P1 High</option>
                <option value="P2 Medium">P2 Medium</option>
                <option value="P3 Low">P3 Low</option>
                <option value="P4 Low">P4 Low</option>
              </select>
            </div>
            <div class="form-group">
              <label for="app-urgency">Urgency</label>
              <select id="app-urgency" required>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
              </select>
            </div>
            <div class="form-group">
              <label for="app-impact">Impact</label>
              <select id="app-impact" required>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
              </select>
            </div>
            <div class="form-group">
              <label for="app-assignment-group">Assignment Group</label>
              <input type="text" id="app-assignment-group" required>
            </div>
            <div class="form-group">
              <label for="app-category">Category</label>
              <input type="text" id="app-category" required>
            </div>
            <div class="form-group">
              <label for="app-short-description">Short Description</label>
              <input type="text" id="app-short-description" required>
            </div>
            <div class="form-group">
              <label for="app-business-impact">Business Impact</label>
              <textarea id="app-business-impact" required></textarea>
            </div>
            <button type="submit" class="cta-btn">Add Application</button>
          </form>
        </div>
        <div class="form-container">
          <h3>Users</h3>
          <table class="settings-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Location</th>
                <th>Email</th>
                <th>Contact</th>
                <th>Job Title</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="user-table-body"></tbody>
          </table>
        </div>
        <div class="form-container">
          <h3>Applications/Services</h3>
          <table class="settings-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Priority Cap</th>
                <th>Urgency</th>
                <th>Impact</th>
                <th>Assignment Group</th>
                <th>Category</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="app-table-body"></tbody>
          </table>
        </div>
      </div>
    </section>

    <div id="toast" class="toast hidden">
      <p id="toast-message">Success</p>
    </div>

  </main>
  <script src="js/app.js"></script>
</body>
</html>